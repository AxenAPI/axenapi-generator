/**
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) (6.3.0).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
package config;

import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;
import org.springframework.context.annotation.Bean;
import org.springframework.amqp.rabbit.core.RabbitTemplate;
import org.springframework.amqp.support.converter.MessagingMessageConverter;
import service.RabbitSenderService;
import service.impl.RabbitSenderServiceImpl;
import org.springframework.context.annotation.ComponentScan;

@ComponentScan("axenapi")
public class RabbitSenderServiceConfig {

    private final RabbitTemplate rabbitTemplate;

    public RabbitSenderServiceConfig(RabbitTemplate rabbitTemplate) {
        this.rabbitTemplate = rabbitTemplate;
    }

    @Bean
    @ConditionalOnMissingBean
    public MessagingMessageConverter converter() {
        return new MessagingMessageConverter();
    }

    @Bean
    @ConditionalOnMissingBean
    public RabbitSenderService rabbitSenderService(MessagingMessageConverter converter) {
        return new RabbitSenderServiceImpl(rabbitTemplate, converter);
    }
}
