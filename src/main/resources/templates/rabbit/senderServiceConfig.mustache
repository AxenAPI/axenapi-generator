/**
* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) (6.3.0).
* https://openapi-generator.tech
* Do not edit the class manually.
*/
package config;

import org.springframework.amqp.rabbit.connection.ConnectionFactory;
import org.springframework.amqp.rabbit.core.RabbitTemplate;
import org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;
import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.ComponentScan;
import service.RabbitSenderService;
import service.impl.RabbitSenderServiceImpl;

@ComponentScan("axenapi")
public class RabbitSenderServiceConfig {

    @Bean
    @ConditionalOnMissingBean
    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {
        RabbitTemplate template = new RabbitTemplate(connectionFactory);
        template.setMessageConverter(new Jackson2JsonMessageConverter());
        return template;
    }

    @Bean
    @ConditionalOnMissingBean
    public RabbitSenderService rabbitSenderService(RabbitTemplate template) {
        return new RabbitSenderServiceImpl(template);
    }
}
